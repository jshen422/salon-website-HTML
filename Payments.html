<!-- Step 3: Appointment Summary & Payment -->
<div class="booking-page" id="booking-page-3" style="display: none;">
  <h2>Appointment Summary & Payment</h2>
  <div class="summary-container">
    
    <!-- Basic Info Summary -->
    <div id="basic-info-summary"></div>

    <!-- Services Summary -->
    <div class="service-summary" id="service-summary">
      <h3>Selected Services</h3>
      <div id="summary-services-list"></div>
    </div>

    <!-- Manual Card Form -->
    <div class="payment-form">
      <div class="form-group">
        <label for="card-number">CARD NUMBER</label>
        <input type="text" id="card-number" name="card-number" />
      </div>
      <div class="form-group">
        <label for="card-holder">CARD HOLDER NAME</label>
        <input type="text" id="card-holder" name="card-holder" />
      </div>
      <div class="form-row">
        <div class="form-group half">
          <label for="expiry-date">EXPIRATION DATE</label>
          <input type="text" id="expiry-date" name="expiry-date" placeholder="MM/YY" />
        </div>
        <div class="form-group half">
          <label for="cvv">CVV</label>
          <input type="text" id="cvv" name="cvv" />
        </div>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="booking-buttons">
      <button class="prev-btn" id="back-to-step-2">Previous</button>
      <button class="pay-btn" id="to-step-4">PAY</button>
    </div>
  </div>
</div>

<!-- PayPal JavaScript SDK -->
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&currency=USD"></script>

<script>
  // Check if the PayPal button script loads only after the page is fully rendered
  document.addEventListener("DOMContentLoaded", function() {
    if (document.getElementById('paypal-button-container')) {
      // Render PayPal button in the container after the DOM is ready
      paypal.Buttons({
        createOrder: function(data, actions) {
          return actions.order.create({
            purchase_units: [{
              amount: {
                value: '50.00' // Adjust dynamically if needed
              }
            }]
          });
        },
        onApprove: function(data, actions) {
          return actions.order.capture().then(function(details) {
            alert('Payment successful! Thank you, ' + details.payer.name.given_name + '.');
            // Optionally, navigate to the next step after payment
            document.getElementById('booking-page-3').style.display = 'none';
            document.getElementById('booking-page-4').style.display = 'block';
          });
        }
      }).render('#paypal-button-container'); // Render the button in the div
    }
  });
</script>

  
      <!-- Step 4: Payment Confirmation -->
      <div class="booking-page" id="booking-page-4" style="display: none;">
        <div class="confirmation-message">
          <div class="check-icon">âœ“</div>
          <h2>Payment Confirmed</h2>
          <p>
            Thank you, your payment has been successfully processed and your booking is now confirmed.
            A confirmation email has been sent to name@example.com.
          </p>
          <div class="booking-buttons">
            <button class="prev-btn" id="back-to-step-3">Previous</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Inline JavaScript -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        let currentStep = 1;
        const totalSteps = 4;
        const selectedServices = [];
  
        // Helper: Update progress bar
        function updateProgressBar(step) {
          const progressSteps = document.querySelectorAll(".progress-step");
          progressSteps.forEach((ps, index) => {
            if (index < step) {
              ps.classList.add("active");
            } else {
              ps.classList.remove("active");
            }
          });
        }
